var wt=Object.defineProperty,At=Object.defineProperties;var Tt=Object.getOwnPropertyDescriptors;var Yl=Object.getOwnPropertySymbols;var St=Object.prototype.hasOwnProperty,Vt=Object.prototype.propertyIsEnumerable;var Kl=(n,e,l)=>e in n?wt(n,e,{enumerable:!0,configurable:!0,writable:!0,value:l}):n[e]=l,Tl=(n,e)=>{for(var l in e||(e={}))St.call(e,l)&&Kl(n,l,e[l]);if(Yl)for(var l of Yl(e))Vt.call(e,l)&&Kl(n,l,e[l]);return n},Sl=(n,e)=>At(n,Tt(e));import{D as Vl,S as je,i as Je,s as He,F as ol,G as nl,a as _,d as u,b as c,g as B,H as i,I as pe,e as d,c as p,f as sl,J as Dt,K as re,t as M,k as I,h as j,m as w,j as ze,L as Ql,M as Gt,N as vl,O as al,l as Ne,P as Pl,Q as yt,n as Re,o as J,p as Ue,q as V,R as Wl,T as Me,U as ml,V as Lt,W as Zl,X as ae,w as ke,x as Pe,y as Ie,B as we,Y as Le,Z as Dl,_ as Il,$ as wl,a0 as Al,a1 as Ot,a2 as Ct,a3 as Rt,a4 as Ut,a5 as Bt,a6 as Mt}from"../chunks/vendor-850453c4.js";const de=Vl({Name:"",ParentName:"",Type:""}),Fe=Vl({Name:"Traffic Nodes",expanded:!1,MenuItems:["Error!"],children:[]}),Ze=Vl({Name:"Traffic Profiles",expanded:!1,MenuItems:["Error!"],children:[]});function jt(n){let e,l;return{c(){e=ol("svg"),l=ol("polyline"),this.h()},l(s){e=nl(s,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var r=_(e);l=nl(r,"polyline",{points:!0}),_(l).forEach(u),r.forEach(u),this.h()},h(){c(l,"points","9 18 15 12 9 6"),c(e,"xmlns","http://www.w3.org/2000/svg"),c(e,"width","24"),c(e,"height","24"),c(e,"viewBox","0 0 24 24"),c(e,"fill","none"),c(e,"stroke","currentColor"),c(e,"stroke-width","2"),c(e,"stroke-linecap","round"),c(e,"stroke-linejoin","round"),c(e,"class","feather feather-chevron-right")},m(s,r){B(s,e,r),i(e,l)},p:pe,i:pe,o:pe,d(s){s&&u(e)}}}class Jt extends je{constructor(e){super();Je(this,e,null,jt,He,{})}}function Ht(n){let e,l;return{c(){e=ol("svg"),l=ol("polyline"),this.h()},l(s){e=nl(s,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var r=_(e);l=nl(r,"polyline",{points:!0}),_(l).forEach(u),r.forEach(u),this.h()},h(){c(l,"points","6 9 12 15 18 9"),c(e,"xmlns","http://www.w3.org/2000/svg"),c(e,"width","24"),c(e,"height","24"),c(e,"viewBox","0 0 24 24"),c(e,"fill","none"),c(e,"stroke","currentColor"),c(e,"stroke-width","2"),c(e,"stroke-linecap","round"),c(e,"stroke-linejoin","round"),c(e,"class","feather feather-chevron-down")},m(s,r){B(s,e,r),i(e,l)},p:pe,i:pe,o:pe,d(s){s&&u(e)}}}class qt extends je{constructor(e){super();Je(this,e,null,Ht,He,{})}}function zt(n){let e,l;return{c(){e=ol("svg"),l=ol("rect"),this.h()},l(s){e=nl(s,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var r=_(e);l=nl(r,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0}),_(l).forEach(u),r.forEach(u),this.h()},h(){c(l,"x","5"),c(l,"y","8"),c(l,"width","8"),c(l,"height","8"),c(l,"fill","grey"),c(e,"xmlns","http://www.w3.org/2000/svg"),c(e,"width","24"),c(e,"height","24"),c(e,"viewBox","0 0 24 24"),c(e,"fill","none"),c(e,"stroke","currentColor"),c(e,"stroke-width","2"),c(e,"stroke-linecap","round"),c(e,"stroke-linejoin","round"),c(e,"class","feather feather-chevron-right")},m(s,r){B(s,e,r),i(e,l)},p:pe,i:pe,o:pe,d(s){s&&u(e)}}}class Ft extends je{constructor(e){super();Je(this,e,null,zt,He,{})}}function Xt(n){const e=l=>{n&&!n.contains(l.target)&&!l.defaultPrevented&&n.dispatchEvent(new CustomEvent("click_outside",n))};return document.addEventListener("click",e,!0),document.addEventListener("contextmenu",e,!0),{destroy(){document.removeEventListener("click",e,!0),document.removeEventListener("contextmenu",e,!0)}}}function $l(n,e,l){const s=n.slice();return s[14]=e[l],s}function Yt(n){let e,l,s=n[0].Name+"",r,f;return e=new Ft({}),{c(){ke(e.$$.fragment),l=I(),r=M(s)},l(t){Pe(e.$$.fragment,t),l=w(t),r=j(t,s)},m(t,o){Ie(e,t,o),B(t,l,o),B(t,r,o),f=!0},p(t,o){(!f||o&1)&&s!==(s=t[0].Name+"")&&ze(r,s)},i(t){f||(V(e.$$.fragment,t),f=!0)},o(t){J(e.$$.fragment,t),f=!1},d(t){we(e,t),t&&u(l),t&&u(r)}}}function Kt(n){let e,l,s,r;const f=[Wt,Qt],t=[];function o(a,v){return a[0].expanded?1:0}return e=o(n),l=t[e]=f[e](n),{c(){l.c(),s=Ne()},l(a){l.l(a),s=Ne()},m(a,v){t[e].m(a,v),B(a,s,v),r=!0},p(a,v){let m=e;e=o(a),e===m?t[e].p(a,v):(Re(),J(t[m],1,1,()=>{t[m]=null}),Ue(),l=t[e],l?l.p(a,v):(l=t[e]=f[e](a),l.c()),V(l,1),l.m(s.parentNode,s))},i(a){r||(V(l),r=!0)},o(a){J(l),r=!1},d(a){t[e].d(a),a&&u(s)}}}function Qt(n){let e,l,s=n[0].Name+"",r,f;return e=new qt({}),{c(){ke(e.$$.fragment),l=I(),r=M(s)},l(t){Pe(e.$$.fragment,t),l=w(t),r=j(t,s)},m(t,o){Ie(e,t,o),B(t,l,o),B(t,r,o),f=!0},p(t,o){(!f||o&1)&&s!==(s=t[0].Name+"")&&ze(r,s)},i(t){f||(V(e.$$.fragment,t),f=!0)},o(t){J(e.$$.fragment,t),f=!1},d(t){we(e,t),t&&u(l),t&&u(r)}}}function Wt(n){let e,l,s=n[0].Name+"",r,f;return e=new Jt({}),{c(){ke(e.$$.fragment),l=I(),r=M(s)},l(t){Pe(e.$$.fragment,t),l=w(t),r=j(t,s)},m(t,o){Ie(e,t,o),B(t,l,o),B(t,r,o),f=!0},p(t,o){(!f||o&1)&&s!==(s=t[0].Name+"")&&ze(r,s)},i(t){f||(V(e.$$.fragment,t),f=!0)},o(t){J(e.$$.fragment,t),f=!1},d(t){we(e,t),t&&u(l),t&&u(r)}}}function xl(n){let e,l,s,r,f,t,o,a=n[0].MenuItems,v=[];for(let m=0;m<a.length;m+=1)v[m]=et($l(n,a,m));return{c(){e=d("div"),l=d("div"),s=d("div");for(let m=0;m<v.length;m+=1)v[m].c();this.h()},l(m){e=p(m,"DIV",{class:!0,style:!0});var b=_(e);l=p(b,"DIV",{class:!0,id:!0,role:!0});var N=_(l);s=p(N,"DIV",{class:!0});var E=_(s);for(let P=0;P<v.length;P+=1)v[P].l(E);E.forEach(u),N.forEach(u),b.forEach(u),this.h()},h(){c(s,"class","dropdown-content"),c(l,"class","dropdown-menu"),c(l,"id","dropdown-menu"),c(l,"role","menu"),c(e,"class","dropdown is-active"),sl(e,"position","fixed"),sl(e,"left",n[4]+"px"),sl(e,"top",n[5]+"px")},m(m,b){B(m,e,b),i(e,l),i(l,s);for(let N=0;N<v.length;N+=1)v[N].m(s,null);t||(o=[Dt(r=Xt.call(null,e)),re(e,"click_outside",n[11])],t=!0)},p(m,b){if(b&257){a=m[0].MenuItems;let N;for(N=0;N<a.length;N+=1){const E=$l(m,a,N);v[N]?v[N].p(E,b):(v[N]=et(E),v[N].c(),v[N].m(s,null))}for(;N<v.length;N+=1)v[N].d(1);v.length=a.length}b&16&&sl(e,"left",m[4]+"px"),b&32&&sl(e,"top",m[5]+"px")},i(m){f||Ql(()=>{f=Gt(e,Lt,{y:100,duration:500}),f.start()})},o:pe,d(m){m&&u(e),vl(v,m),t=!1,al(o)}}}function et(n){let e,l=n[14].Name+"",s,r,f,t;function o(){return n[12](n[14])}return{c(){e=d("div"),s=M(l),r=I(),this.h()},l(a){e=p(a,"DIV",{class:!0});var v=_(e);s=j(v,l),r=w(v),v.forEach(u),this.h()},h(){c(e,"class","dropdown-item")},m(a,v){B(a,e,v),i(e,s),i(e,r),f||(t=re(e,"click",o),f=!0)},p(a,v){n=a,v&1&&l!==(l=n[14].Name+"")&&ze(s,l)},d(a){a&&u(e),f=!1,t()}}}function Zt(n){let e,l,s,r,f,t,o,a,v;const m=[Kt,Yt],b=[];function N(P,k){return P[0].children?0:1}l=N(n),s=b[l]=m[l](n);let E=n[6]&&n[0].MenuItems&&xl(n);return{c(){e=d("li"),s.c(),f=I(),E&&E.c(),t=Ne(),this.h()},l(P){e=p(P,"LI",{style:!0,class:!0});var k=_(e);s.l(k),k.forEach(u),f=w(P),E&&E.l(P),t=Ne(),this.h()},h(){sl(e,"padding-left",n[3]*1+"rem"),c(e,"class","svelte-1xfyu03"),Pl(e,"selected",n[7].Name==n[0].Name&&n[7].ParentName==n[1].Name&&n[7].Type==n[2])},m(P,k){B(P,e,k),b[l].m(e,null),B(P,f,k),E&&E.m(P,k),B(P,t,k),o=!0,a||(v=[re(e,"click",n[9]),re(e,"contextmenu",yt(n[10]))],a=!0)},p(P,[k]){let h=l;l=N(P),l===h?b[l].p(P,k):(Re(),J(b[h],1,1,()=>{b[h]=null}),Ue(),s=b[l],s?s.p(P,k):(s=b[l]=m[l](P),s.c()),V(s,1),s.m(e,null)),(!o||k&8)&&sl(e,"padding-left",P[3]*1+"rem"),k&135&&Pl(e,"selected",P[7].Name==P[0].Name&&P[7].ParentName==P[1].Name&&P[7].Type==P[2]),P[6]&&P[0].MenuItems?E?(E.p(P,k),k&65&&V(E,1)):(E=xl(P),E.c(),V(E,1),E.m(t.parentNode,t)):E&&(E.d(1),E=null)},i(P){o||(V(s),Ql(()=>{r||(r=Wl(e,Zl,{},!0)),r.run(1)}),V(E),o=!0)},o(P){J(s),r||(r=Wl(e,Zl,{},!1)),r.run(0),o=!1},d(P){P&&u(e),b[l].d(),P&&r&&r.end(),P&&u(f),E&&E.d(P),P&&u(t),a=!1,al(v)}}}function $t(n,e,l){let s;Me(n,de,g=>l(7,s=g));let{node:r}=e,{pnode:f}=e,{type:t}=e,{level:o}=e,a,v,m;const b=ml();function N(g,L){b(g,L),l(6,m=!1)}function E(g){ae(de,s.Name=r.Name,s),ae(de,s.ParentName=f.Name,s),ae(de,s.Type=t,s),b("expandToggle",{}),l(6,m=!1),r.UrlPathView&&(replace("/blank"),replace(r.UrlPathView))}function P(g){ae(de,s.Name=r.Name,s),ae(de,s.ParentName=f.Name,s),ae(de,s.Type=t,s),l(6,m=!m),l(4,a=g.clientX),l(5,v=g.clientY)}function k(g){l(6,m=!1)}const h=g=>N(g.Event,g.EventCtx);return n.$$set=g=>{"node"in g&&l(0,r=g.node),"pnode"in g&&l(1,f=g.pnode),"type"in g&&l(2,t=g.type),"level"in g&&l(3,o=g.level)},[r,f,t,o,a,v,m,s,N,E,P,k,h]}class il extends je{constructor(e){super();Je(this,e,$t,Zt,He,{node:0,pnode:1,type:2,level:3})}}function lt(n){let e,l;return{c(){e=d("p"),l=M(n[3]),this.h()},l(s){e=p(s,"P",{class:!0});var r=_(e);l=j(r,n[3]),r.forEach(u),this.h()},h(){c(e,"class","help")},m(s,r){B(s,e,r),i(e,l)},p(s,r){r&8&&ze(l,s[3])},d(s){s&&u(e)}}}function tt(n){let e,l,s,r;return s=new Dl({props:{helperText:""}}),{c(){e=d("div"),l=d("div"),ke(s.$$.fragment),this.h()},l(f){e=p(f,"DIV",{class:!0});var t=_(e);l=p(t,"DIV",{class:!0});var o=_(l);Pe(s.$$.fragment,o),o.forEach(u),t.forEach(u),this.h()},h(){c(l,"class","control"),c(e,"class","field")},m(f,t){B(f,e,t),i(e,l),Ie(s,l,null),r=!0},i(f){r||(V(s.$$.fragment,f),r=!0)},o(f){J(s.$$.fragment,f),r=!1},d(f){f&&u(e),we(s)}}}function st(n){let e,l,s,r,f,t;return{c(){e=d("div"),l=d("label"),s=M("Error"),r=I(),f=d("div"),t=d("textarea"),this.h()},l(o){e=p(o,"DIV",{class:!0});var a=_(e);l=p(a,"LABEL",{class:!0});var v=_(l);s=j(v,"Error"),v.forEach(u),r=w(a),f=p(a,"DIV",{class:!0});var m=_(f);t=p(m,"TEXTAREA",{class:!0,placeholder:!0,rows:!0}),_(t).forEach(u),m.forEach(u),a.forEach(u),this.h()},h(){c(l,"class","label"),c(t,"class","textarea errmsg svelte-7mms2t"),c(t,"placeholder",""),c(t,"rows",n[6]),t.value=n[5],t.readOnly=!0,c(f,"class","control"),c(e,"class","field")},m(o,a){B(o,e,a),i(e,l),i(l,s),i(e,r),i(e,f),i(f,t)},p(o,a){a&64&&c(t,"rows",o[6]),a&32&&(t.value=o[5])},d(o){o&&u(e)}}}function xt(n){let e,l,s,r,f,t,o,a,v,m,b,N,E,P,k,h,g,L,C,S,A,D,Y,Q,X,F,W,K,oe,x,T=n[2]&&lt(n),G=n[7]&&tt(),R=n[4]&&st(n);return{c(){e=d("div"),l=d("div"),s=d("header"),r=d("p"),f=M("Add Profile Folder"),t=I(),o=d("section"),a=d("div"),v=d("label"),m=M("Name"),b=I(),N=d("div"),E=d("input"),k=I(),T&&T.c(),h=I(),g=d("div"),L=d("div"),C=d("button"),S=M("Add"),A=I(),D=d("div"),Y=d("button"),Q=M("Cancel"),X=I(),G&&G.c(),F=I(),R&&R.c(),this.h()},l(O){e=p(O,"DIV",{class:!0});var H=_(e);l=p(H,"DIV",{class:!0});var Z=_(l);s=p(Z,"HEADER",{});var z=_(s);r=p(z,"P",{class:!0});var $=_(r);f=j($,"Add Profile Folder"),$.forEach(u),z.forEach(u),t=w(Z),o=p(Z,"SECTION",{class:!0});var U=_(o);a=p(U,"DIV",{class:!0});var y=_(a);v=p(y,"LABEL",{class:!0});var le=_(v);m=j(le,"Name"),le.forEach(u),b=w(y),N=p(y,"DIV",{class:!0});var te=_(N);E=p(te,"INPUT",{class:!0,type:!0,placeholder:!0}),k=w(te),T&&T.l(te),te.forEach(u),y.forEach(u),h=w(U),g=p(U,"DIV",{class:!0});var _e=_(g);L=p(_e,"DIV",{class:!0});var he=_(L);C=p(he,"BUTTON",{class:!0});var ne=_(C);S=j(ne,"Add"),ne.forEach(u),he.forEach(u),A=w(_e),D=p(_e,"DIV",{class:!0});var se=_(D);Y=p(se,"BUTTON",{class:!0});var be=_(Y);Q=j(be,"Cancel"),be.forEach(u),se.forEach(u),_e.forEach(u),X=w(U),G&&G.l(U),F=w(U),R&&R.l(U),U.forEach(u),Z.forEach(u),H.forEach(u),this.h()},h(){c(r,"class","modal-card-title"),c(v,"class","label"),c(E,"class",P="input "+(n[2]?"is-danger":"is-info")),c(E,"type","text"),c(E,"placeholder","Text input"),c(N,"class","control"),c(a,"class","field"),c(C,"class","button is-info"),c(L,"class","control"),c(Y,"class","button is-info is-light"),c(D,"class","control"),c(g,"class","field is-grouped"),c(o,"class","modal-card-body"),c(l,"class","modal-card box"),c(e,"class",W="modal "+(n[0]?"is-active":""))},m(O,H){B(O,e,H),i(e,l),i(l,s),i(s,r),i(r,f),i(l,t),i(l,o),i(o,a),i(a,v),i(v,m),i(a,b),i(a,N),i(N,E),Le(E,n[1]),i(N,k),T&&T.m(N,null),i(o,h),i(o,g),i(g,L),i(L,C),i(C,S),i(g,A),i(g,D),i(D,Y),i(Y,Q),i(o,X),G&&G.m(o,null),i(o,F),R&&R.m(o,null),K=!0,oe||(x=[re(E,"input",n[11]),re(E,"input",n[8]),re(C,"click",n[10]),re(Y,"click",n[9])],oe=!0)},p(O,[H]){(!K||H&4&&P!==(P="input "+(O[2]?"is-danger":"is-info")))&&c(E,"class",P),H&2&&E.value!==O[1]&&Le(E,O[1]),O[2]?T?T.p(O,H):(T=lt(O),T.c(),T.m(N,null)):T&&(T.d(1),T=null),O[7]?G?H&128&&V(G,1):(G=tt(),G.c(),V(G,1),G.m(o,F)):G&&(Re(),J(G,1,1,()=>{G=null}),Ue()),O[4]?R?R.p(O,H):(R=st(O),R.c(),R.m(o,null)):R&&(R.d(1),R=null),(!K||H&1&&W!==(W="modal "+(O[0]?"is-active":"")))&&c(e,"class",W)},i(O){K||(V(G),K=!0)},o(O){J(G),K=!1},d(O){O&&u(e),T&&T.d(),G&&G.d(),R&&R.d(),oe=!1,al(x)}}}function es(n,e,l){let s;Me(n,Ze,A=>l(12,s=A));let{isActive:r}=e,f,t,o,a,v,m,b;function N(){l(1,f=""),l(2,t=!1),l(4,a=!1),l(7,b=!1),l(0,r=!1)}N();let E=new RegExp("^[a-z0-9]+$","i"),P=new RegExp(`\r?
`);const k=ml();function h(){f.trim()==""?(l(3,o="required"),l(2,t=!0)):E.test(f)?s.children.find(A=>A.Name==f)?(l(3,o="already exist"),l(2,t=!0)):l(2,t=!1):(l(3,o="invalid - alphanumeric only"),l(2,t=!0))}function g(A){l(5,v=A),l(6,m=v.split(P).length),m==0?l(6,m=1):m>4&&l(6,m=4),l(4,a=!0)}async function L(){N()}async function C(){if(h(),!t)try{l(5,v=""),l(4,a=!1),l(7,b=!0);const A=await fetch("/api/profile_groups",{method:"POST",body:JSON.stringify({Name:f})});if(l(7,b=!1),A.ok){const D=await A.json();D.status==0?(k("addProfileGroupSuccess",{Name:f}),N()):(console.log(D),g(D.message))}else console.log(A),g(JSON.stringify(A))}catch(A){l(7,b=!1),g(A.toString())}}function S(){f=this.value,l(1,f)}return n.$$set=A=>{"isActive"in A&&l(0,r=A.isActive)},[r,f,t,o,a,v,m,b,h,L,C,S]}class ls extends je{constructor(e){super();Je(this,e,es,xt,He,{isActive:0})}}function ts(n){let e,l,s,r,f,t,o,a,v,m,b,N,E,P,k,h,g,L,C,S,A,D,Y,Q,X,F,W,K,oe,x,T,G,R,O,H,Z,z,$,U,y,le,te,_e,he,ne,se,be,qe,Oe,ge,Se,Ve,Ce,Te,Ee,De,Xe,ve,ie,fe,ce,ue,me,q,ee,$e,xe,rl,Ae;return{c(){e=d("div"),l=d("div"),s=I(),r=d("div"),f=d("header"),t=d("p"),o=M("New Profile"),a=I(),v=d("section"),m=d("div"),b=d("div"),N=d("div"),E=d("label"),P=M("Name"),k=I(),h=d("div"),g=d("input"),L=I(),C=d("div"),S=d("div"),A=d("label"),D=M("Type"),Y=I(),Q=d("div"),X=d("select"),F=d("option"),W=M("TLS Client -- TLS Server"),K=I(),oe=d("br"),x=I(),T=d("div"),G=d("div"),R=d("label"),O=M("Client Port"),H=I(),Z=d("div"),z=d("select"),$=d("option"),U=M("Select Port"),y=d("option"),le=M("G1:N1:ens192"),te=d("option"),_e=M("G1:N1:ens224"),he=I(),ne=d("div"),se=d("div"),be=d("label"),qe=M("Server Port"),Oe=I(),ge=d("div"),Se=d("select"),Ve=d("option"),Ce=M("Select Port"),Te=d("option"),Ee=M("G1:N1:ens192"),De=d("option"),Xe=M("G1:N1:ens224"),ve=I(),ie=d("div"),fe=d("div"),ce=d("button"),ue=M("Add"),me=I(),q=d("div"),ee=d("button"),$e=M("Cancel"),this.h()},l(ye){e=p(ye,"DIV",{class:!0});var Be=_(e);l=p(Be,"DIV",{class:!0}),_(l).forEach(u),s=w(Be),r=p(Be,"DIV",{class:!0});var Ye=_(r);f=p(Ye,"HEADER",{});var el=_(f);t=p(el,"P",{class:!0});var cl=_(t);o=j(cl,"New Profile"),cl.forEach(u),el.forEach(u),a=w(Ye),v=p(Ye,"SECTION",{class:!0});var Ke=_(v);m=p(Ke,"DIV",{class:!0});var Ge=_(m);b=p(Ge,"DIV",{class:!0});var fl=_(b);N=p(fl,"DIV",{class:!0});var Qe=_(N);E=p(Qe,"LABEL",{class:!0});var ll=_(E);P=j(ll,"Name"),ll.forEach(u),k=w(Qe),h=p(Qe,"DIV",{class:!0});var ul=_(h);g=p(ul,"INPUT",{class:!0,type:!0,placeholder:!0}),ul.forEach(u),Qe.forEach(u),fl.forEach(u),L=w(Ge),C=p(Ge,"DIV",{class:!0});var tl=_(C);S=p(tl,"DIV",{class:!0});var We=_(S);A=p(We,"LABEL",{class:!0});var dl=_(A);D=j(dl,"Type"),dl.forEach(u),Y=w(We),Q=p(We,"DIV",{class:!0});var pl=_(Q);X=p(pl,"SELECT",{class:!0});var hl=_(X);F=p(hl,"OPTION",{});var _l=_(F);W=j(_l,"TLS Client -- TLS Server"),_l.forEach(u),hl.forEach(u),pl.forEach(u),We.forEach(u),tl.forEach(u),K=w(Ge),oe=p(Ge,"BR",{}),x=w(Ge),T=p(Ge,"DIV",{class:!0});var Gl=_(T);G=p(Gl,"DIV",{class:!0});var gl=_(G);R=p(gl,"LABEL",{class:!0});var yl=_(R);O=j(yl,"Client Port"),yl.forEach(u),H=w(gl),Z=p(gl,"DIV",{class:!0});var Ll=_(Z);z=p(Ll,"SELECT",{class:!0});var bl=_(z);$=p(bl,"OPTION",{});var Ol=_($);U=j(Ol,"Select Port"),Ol.forEach(u),y=p(bl,"OPTION",{});var Cl=_(y);le=j(Cl,"G1:N1:ens192"),Cl.forEach(u),te=p(bl,"OPTION",{});var Rl=_(te);_e=j(Rl,"G1:N1:ens224"),Rl.forEach(u),bl.forEach(u),Ll.forEach(u),gl.forEach(u),Gl.forEach(u),he=w(Ge),ne=p(Ge,"DIV",{class:!0});var Ul=_(ne);se=p(Ul,"DIV",{class:!0});var El=_(se);be=p(El,"LABEL",{class:!0});var Bl=_(be);qe=j(Bl,"Server Port"),Bl.forEach(u),Oe=w(El),ge=p(El,"DIV",{class:!0});var Ml=_(ge);Se=p(Ml,"SELECT",{class:!0});var Nl=_(Se);Ve=p(Nl,"OPTION",{});var jl=_(Ve);Ce=j(jl,"Select Port"),jl.forEach(u),Te=p(Nl,"OPTION",{});var Jl=_(Te);Ee=j(Jl,"G1:N1:ens192"),Jl.forEach(u),De=p(Nl,"OPTION",{});var Hl=_(De);Xe=j(Hl,"G1:N1:ens224"),Hl.forEach(u),Nl.forEach(u),Ml.forEach(u),El.forEach(u),Ul.forEach(u),Ge.forEach(u),ve=w(Ke),ie=p(Ke,"DIV",{class:!0});var kl=_(ie);fe=p(kl,"DIV",{class:!0});var ql=_(fe);ce=p(ql,"BUTTON",{class:!0});var zl=_(ce);ue=j(zl,"Add"),zl.forEach(u),ql.forEach(u),me=w(kl),q=p(kl,"DIV",{class:!0});var Fl=_(q);ee=p(Fl,"BUTTON",{class:!0});var Xl=_(ee);$e=j(Xl,"Cancel"),Xl.forEach(u),Fl.forEach(u),kl.forEach(u),Ke.forEach(u),Ye.forEach(u),Be.forEach(u),this.h()},h(){c(l,"class","modal-background"),c(t,"class","modal-card-title "),c(E,"class","label "),c(g,"class","input "),c(g,"type","text"),c(g,"placeholder","Text input"),c(h,"class","control"),c(N,"class","field"),c(b,"class","column is-half"),c(A,"class","label "),F.__value="TLS Client -- TLS Server",F.value=F.__value,c(X,"class",""),c(Q,"class","select is-fullwidth "),c(S,"class","field"),c(C,"class","column is-half"),c(R,"class","label "),$.__value="Select Port",$.value=$.__value,y.__value="G1:N1:ens192",y.value=y.__value,te.__value="G1:N1:ens224",te.value=te.__value,c(z,"class",""),c(Z,"class","select is-fullwidth "),c(G,"class","field"),c(T,"class","column is-half"),c(be,"class","label "),Ve.__value="Select Port",Ve.value=Ve.__value,Te.__value="G1:N1:ens192",Te.value=Te.__value,De.__value="G1:N1:ens224",De.value=De.__value,c(Se,"class",""),c(ge,"class","select is-fullwidth "),c(se,"class","field"),c(ne,"class","column is-half"),c(m,"class","columns is-multiline is-mobile"),c(ce,"class","button is-info"),c(fe,"class","control"),c(ee,"class","button is-light"),c(q,"class","control"),c(ie,"class","field is-grouped"),c(v,"class","modal-card-body"),c(r,"class","modal-card box "),c(e,"class",xe="modal "+(n[0]?"is-active":""))},m(ye,Be){B(ye,e,Be),i(e,l),i(e,s),i(e,r),i(r,f),i(f,t),i(t,o),i(r,a),i(r,v),i(v,m),i(m,b),i(b,N),i(N,E),i(E,P),i(N,k),i(N,h),i(h,g),Le(g,n[1]),i(m,L),i(m,C),i(C,S),i(S,A),i(A,D),i(S,Y),i(S,Q),i(Q,X),i(X,F),i(F,W),i(m,K),i(m,oe),i(m,x),i(m,T),i(T,G),i(G,R),i(R,O),i(G,H),i(G,Z),i(Z,z),i(z,$),i($,U),i(z,y),i(y,le),i(z,te),i(te,_e),i(m,he),i(m,ne),i(ne,se),i(se,be),i(be,qe),i(se,Oe),i(se,ge),i(ge,Se),i(Se,Ve),i(Ve,Ce),i(Se,Te),i(Te,Ee),i(Se,De),i(De,Xe),i(v,ve),i(v,ie),i(ie,fe),i(fe,ce),i(ce,ue),i(ie,me),i(ie,q),i(q,ee),i(ee,$e),rl||(Ae=[re(g,"input",n[3]),re(ce,"click",n[2]),re(ee,"click",n[4])],rl=!0)},p(ye,[Be]){Be&2&&g.value!==ye[1]&&Le(g,ye[1]),Be&1&&xe!==(xe="modal "+(ye[0]?"is-active":""))&&c(e,"class",xe)},i:pe,o:pe,d(ye){ye&&u(e),rl=!1,al(Ae)}}}function ss(n,e,l){let s;Me(n,de,m=>l(5,s=m));let{isActive:r}=e,f="";const t=ml();async function o(){const m=await fetch("/api/profiles",{method:"POST",body:JSON.stringify({Name:f,Type:"TlsClientServer",Group:s.Name})});if(m.ok){const b=await m.json();b.status==0?(t("addProfileSuccess",{Name:f}),l(0,r=!1)):(console.log(b),alert(JSON.stringify(b)))}else console.log(m),alert(JSON.stringify(m))}function a(){f=this.value,l(1,f)}const v=()=>l(0,r=!1);return n.$$set=m=>{"isActive"in m&&l(0,r=m.isActive)},[r,f,o,a,v]}class rs extends je{constructor(e){super();Je(this,e,ss,ts,He,{isActive:0})}}function rt(n,e,l){const s=n.slice();return s[12]=e[l],s[13]=e,s[14]=l,s}function ot(n,e,l){const s=n.slice();return s[15]=e[l],s}function nt(n){let e,l,s=n[2].children,r=[];for(let t=0;t<s.length;t+=1)r[t]=ct(rt(n,s,t));const f=t=>J(r[t],1,1,()=>{r[t]=null});return{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=Ne()},l(t){for(let o=0;o<r.length;o+=1)r[o].l(t);e=Ne()},m(t,o){for(let a=0;a<r.length;a+=1)r[a].m(t,o);B(t,e,o),l=!0},p(t,o){if(o&6){s=t[2].children;let a;for(a=0;a<s.length;a+=1){const v=rt(t,s,a);r[a]?(r[a].p(v,o),V(r[a],1)):(r[a]=ct(v),r[a].c(),V(r[a],1),r[a].m(e.parentNode,e))}for(Re(),a=s.length;a<r.length;a+=1)f(a);Ue()}},i(t){if(!l){for(let o=0;o<s.length;o+=1)V(r[o]);l=!0}},o(t){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)J(r[o]);l=!1},d(t){vl(r,t),t&&u(e)}}}function at(n){let e,l,s=n[12].children,r=[];for(let t=0;t<s.length;t+=1)r[t]=it(ot(n,s,t));const f=t=>J(r[t],1,1,()=>{r[t]=null});return{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=Ne()},l(t){for(let o=0;o<r.length;o+=1)r[o].l(t);e=Ne()},m(t,o){for(let a=0;a<r.length;a+=1)r[a].m(t,o);B(t,e,o),l=!0},p(t,o){if(o&4){s=t[12].children;let a;for(a=0;a<s.length;a+=1){const v=ot(t,s,a);r[a]?(r[a].p(v,o),V(r[a],1)):(r[a]=it(v),r[a].c(),V(r[a],1),r[a].m(e.parentNode,e))}for(Re(),a=s.length;a<r.length;a+=1)f(a);Ue()}},i(t){if(!l){for(let o=0;o<s.length;o+=1)V(r[o]);l=!0}},o(t){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)J(r[o]);l=!1},d(t){vl(r,t),t&&u(e)}}}function it(n){let e,l;return e=new il({props:{node:n[15],pnode:n[12],level:3,type:"Profile"}}),{c(){ke(e.$$.fragment)},l(s){Pe(e.$$.fragment,s)},m(s,r){Ie(e,s,r),l=!0},p(s,r){const f={};r&4&&(f.node=s[15]),r&4&&(f.pnode=s[12]),e.$set(f)},i(s){l||(V(e.$$.fragment,s),l=!0)},o(s){J(e.$$.fragment,s),l=!1},d(s){we(e,s)}}}function ct(n){let e,l,s,r;function f(){return n[7](n[12],n[13],n[14])}e=new il({props:{node:n[12],pnode:n[2],level:2,type:"ProfileGroup"}}),e.$on("expandToggle",f),e.$on("addProfile",n[8]);let t=n[12].expanded&&n[12].children&&at(n);return{c(){ke(e.$$.fragment),l=I(),t&&t.c(),s=Ne()},l(o){Pe(e.$$.fragment,o),l=w(o),t&&t.l(o),s=Ne()},m(o,a){Ie(e,o,a),B(o,l,a),t&&t.m(o,a),B(o,s,a),r=!0},p(o,a){n=o;const v={};a&4&&(v.node=n[12]),a&4&&(v.pnode=n[2]),e.$set(v),n[12].expanded&&n[12].children?t?(t.p(n,a),a&4&&V(t,1)):(t=at(n),t.c(),V(t,1),t.m(s.parentNode,s)):t&&(Re(),J(t,1,1,()=>{t=null}),Ue())},i(o){r||(V(e.$$.fragment,o),V(t),r=!0)},o(o){J(e.$$.fragment,o),J(t),r=!1},d(o){we(e,o),o&&u(l),t&&t.d(o),o&&u(s)}}}function os(n){let e,l,s,r,f,t,o,a,v,m;l=new il({props:{node:n[2],pnode:n[2],level:1,type:"ProfileTreeRoot"}}),l.$on("expandToggle",n[5]),l.$on("addProfileGroup",n[6]);let b=n[2].expanded&&n[2].children&&nt(n);function N(h){n[9](h)}let E={};n[0]!==void 0&&(E.isActive=n[0]),f=new ls({props:E}),Il.push(()=>wl(f,"isActive",N)),f.$on("addProfileGroupSuccess",n[3]);function P(h){n[10](h)}let k={};return n[1]!==void 0&&(k.isActive=n[1]),a=new rs({props:k}),Il.push(()=>wl(a,"isActive",P)),a.$on("addProfileSuccess",n[4]),{c(){e=d("ul"),ke(l.$$.fragment),s=I(),b&&b.c(),r=I(),ke(f.$$.fragment),o=I(),ke(a.$$.fragment),this.h()},l(h){e=p(h,"UL",{class:!0});var g=_(e);Pe(l.$$.fragment,g),s=w(g),b&&b.l(g),g.forEach(u),r=w(h),Pe(f.$$.fragment,h),o=w(h),Pe(a.$$.fragment,h),this.h()},h(){c(e,"class","svelte-2on8hh")},m(h,g){B(h,e,g),Ie(l,e,null),i(e,s),b&&b.m(e,null),B(h,r,g),Ie(f,h,g),B(h,o,g),Ie(a,h,g),m=!0},p(h,[g]){const L={};g&4&&(L.node=h[2]),g&4&&(L.pnode=h[2]),l.$set(L),h[2].expanded&&h[2].children?b?(b.p(h,g),g&4&&V(b,1)):(b=nt(h),b.c(),V(b,1),b.m(e,null)):b&&(Re(),J(b,1,1,()=>{b=null}),Ue());const C={};!t&&g&1&&(t=!0,C.isActive=h[0],Al(()=>t=!1)),f.$set(C);const S={};!v&&g&2&&(v=!0,S.isActive=h[1],Al(()=>v=!1)),a.$set(S)},i(h){m||(V(l.$$.fragment,h),V(b),V(f.$$.fragment,h),V(a.$$.fragment,h),m=!0)},o(h){J(l.$$.fragment,h),J(b),J(f.$$.fragment,h),J(a.$$.fragment,h),m=!1},d(h){h&&u(e),we(l),b&&b.d(),h&&u(r),we(f,h),h&&u(o),we(a,h)}}}function ns(n,e,l){let s,r;Me(n,Ze,k=>l(2,s=k)),Me(n,de,k=>l(11,r=k));function f(k){let h=[{Name:"Add Profile ...",Event:"addProfile",EventCtx:{}}];s.children.push({Name:k.detail.Name,children:[],expanded:!1,MenuItems:h}),ae(de,r.Name=k.detail.Name,r),ae(de,r.ParentName="Traffic Profiles",r),ae(de,r.Type="ProfileGroup",r),ae(Ze,s.expanded=!0,s),Ze.set(s)}function t(k){let h=s.children.find(L=>L.Name==r.Name),g="/profile/"+h.Name+"/"+k.detail.Name;h.children.push({Name:k.detail.Name,UrlPath:g,UrlPathView:g}),ae(de,r.Name=k.detail.Name,r),ae(de,r.ParentName=h.Name,r),ae(de,r.Type="Profile",r),h.expanded=!0,Ze.set(s)}let o=!1,a=!1;const v=()=>ae(Ze,s.expanded=!s.expanded,s),m=()=>l(0,o=!0),b=(k,h,g)=>ae(Ze,h[g].expanded=!k.expanded,s),N=()=>l(1,a=!0);function E(k){o=k,l(0,o)}function P(k){a=k,l(1,a)}return[o,a,s,f,t,v,m,b,N,E,P]}class as extends je{constructor(e){super();Je(this,e,ns,os,He,{})}}function ft(n){let e,l;return{c(){e=d("p"),l=M(n[3]),this.h()},l(s){e=p(s,"P",{class:!0});var r=_(e);l=j(r,n[3]),r.forEach(u),this.h()},h(){c(e,"class","help")},m(s,r){B(s,e,r),i(e,l)},p(s,r){r&8&&ze(l,s[3])},d(s){s&&u(e)}}}function ut(n){let e,l,s,r;return s=new Dl({props:{helperText:""}}),{c(){e=d("div"),l=d("div"),ke(s.$$.fragment),this.h()},l(f){e=p(f,"DIV",{class:!0});var t=_(e);l=p(t,"DIV",{class:!0});var o=_(l);Pe(s.$$.fragment,o),o.forEach(u),t.forEach(u),this.h()},h(){c(l,"class","control"),c(e,"class","field")},m(f,t){B(f,e,t),i(e,l),Ie(s,l,null),r=!0},i(f){r||(V(s.$$.fragment,f),r=!0)},o(f){J(s.$$.fragment,f),r=!1},d(f){f&&u(e),we(s)}}}function dt(n){let e,l,s,r,f,t;return{c(){e=d("div"),l=d("label"),s=M("Error"),r=I(),f=d("div"),t=d("textarea"),this.h()},l(o){e=p(o,"DIV",{class:!0});var a=_(e);l=p(a,"LABEL",{class:!0});var v=_(l);s=j(v,"Error"),v.forEach(u),r=w(a),f=p(a,"DIV",{class:!0});var m=_(f);t=p(m,"TEXTAREA",{class:!0,placeholder:!0,rows:!0}),_(t).forEach(u),m.forEach(u),a.forEach(u),this.h()},h(){c(l,"class","label"),c(t,"class","textarea errmsg svelte-lyudnp"),c(t,"placeholder",""),c(t,"rows",n[6]),t.value=n[5],t.readOnly=!0,c(f,"class","control"),c(e,"class","field")},m(o,a){B(o,e,a),i(e,l),i(l,s),i(e,r),i(e,f),i(f,t)},p(o,a){a&64&&c(t,"rows",o[6]),a&32&&(t.value=o[5])},d(o){o&&u(e)}}}function is(n){let e,l,s,r,f,t,o,a,v,m,b,N,E,P,k,h,g,L,C,S,A,D,Y,Q,X,F,W,K,oe,x,T=n[2]&&ft(n),G=n[7]&&ut(),R=n[4]&&dt(n);return{c(){e=d("div"),l=d("div"),s=d("header"),r=d("p"),f=M("Add Node Folder"),t=I(),o=d("section"),a=d("div"),v=d("label"),m=M("Name"),b=I(),N=d("div"),E=d("input"),k=I(),T&&T.c(),h=I(),g=d("div"),L=d("div"),C=d("button"),S=M("Add"),A=I(),D=d("div"),Y=d("button"),Q=M("Cancel"),X=I(),G&&G.c(),F=I(),R&&R.c(),this.h()},l(O){e=p(O,"DIV",{class:!0});var H=_(e);l=p(H,"DIV",{class:!0});var Z=_(l);s=p(Z,"HEADER",{});var z=_(s);r=p(z,"P",{class:!0});var $=_(r);f=j($,"Add Node Folder"),$.forEach(u),z.forEach(u),t=w(Z),o=p(Z,"SECTION",{class:!0});var U=_(o);a=p(U,"DIV",{class:!0});var y=_(a);v=p(y,"LABEL",{class:!0});var le=_(v);m=j(le,"Name"),le.forEach(u),b=w(y),N=p(y,"DIV",{class:!0});var te=_(N);E=p(te,"INPUT",{class:!0,type:!0,placeholder:!0}),k=w(te),T&&T.l(te),te.forEach(u),y.forEach(u),h=w(U),g=p(U,"DIV",{class:!0});var _e=_(g);L=p(_e,"DIV",{class:!0});var he=_(L);C=p(he,"BUTTON",{class:!0});var ne=_(C);S=j(ne,"Add"),ne.forEach(u),he.forEach(u),A=w(_e),D=p(_e,"DIV",{class:!0});var se=_(D);Y=p(se,"BUTTON",{class:!0});var be=_(Y);Q=j(be,"Cancel"),be.forEach(u),se.forEach(u),_e.forEach(u),X=w(U),G&&G.l(U),F=w(U),R&&R.l(U),U.forEach(u),Z.forEach(u),H.forEach(u),this.h()},h(){c(r,"class","modal-card-title"),c(v,"class","label"),c(E,"class",P="input "+(n[2]?"is-danger":"is-info")),c(E,"type","text"),c(E,"placeholder",""),c(N,"class","control"),c(a,"class","field"),c(C,"class","button is-info"),c(L,"class","control"),c(Y,"class","button is-info is-light"),c(D,"class","control"),c(g,"class","field is-grouped"),c(o,"class","modal-card-body"),c(l,"class","modal-card box"),c(e,"class",W="modal "+(n[0]?"is-active":""))},m(O,H){B(O,e,H),i(e,l),i(l,s),i(s,r),i(r,f),i(l,t),i(l,o),i(o,a),i(a,v),i(v,m),i(a,b),i(a,N),i(N,E),Le(E,n[1]),i(N,k),T&&T.m(N,null),i(o,h),i(o,g),i(g,L),i(L,C),i(C,S),i(g,A),i(g,D),i(D,Y),i(Y,Q),i(o,X),G&&G.m(o,null),i(o,F),R&&R.m(o,null),K=!0,oe||(x=[re(E,"input",n[11]),re(E,"input",n[12]),re(C,"click",n[10]),re(Y,"click",n[9])],oe=!0)},p(O,[H]){(!K||H&4&&P!==(P="input "+(O[2]?"is-danger":"is-info")))&&c(E,"class",P),H&2&&E.value!==O[1]&&Le(E,O[1]),O[2]?T?T.p(O,H):(T=ft(O),T.c(),T.m(N,null)):T&&(T.d(1),T=null),O[7]?G?H&128&&V(G,1):(G=ut(),G.c(),V(G,1),G.m(o,F)):G&&(Re(),J(G,1,1,()=>{G=null}),Ue()),O[4]?R?R.p(O,H):(R=dt(O),R.c(),R.m(o,null)):R&&(R.d(1),R=null),(!K||H&1&&W!==(W="modal "+(O[0]?"is-active":"")))&&c(e,"class",W)},i(O){K||(V(G),K=!0)},o(O){J(G),K=!1},d(O){O&&u(e),T&&T.d(),G&&G.d(),R&&R.d(),oe=!1,al(x)}}}function cs(n,e,l){let s;Me(n,Fe,S=>l(13,s=S));let{isActive:r}=e,f,t,o,a,v,m,b;function N(){l(1,f=""),l(2,t=!1),l(4,a=!1),l(7,b=!1),l(0,r=!1)}N();const E=ml();function P(){let S=new RegExp("^[a-z0-9]+$","i");f.trim()==""?(l(3,o="required"),l(2,t=!0)):S.test(f)?s.children.find(A=>A.Name==f)?(l(3,o="already exist"),l(2,t=!0)):l(2,t=!1):(l(3,o="invalid - alphanumeric only"),l(2,t=!0))}function k(S){let A=new RegExp(`\r?
`);l(5,v=S),l(6,m=v.split(A).length),m==0?l(6,m=1):m>4&&l(6,m=4),l(4,a=!0)}async function h(){N()}async function g(){if(P(),!t)try{l(5,v=""),l(4,a=!1),l(7,b=!0);const S=await fetch("/api/node_groups.json",{method:"POST",body:JSON.stringify({Name:f})});if(l(7,b=!1),S.ok){const A=await S.json();A.status==0?(E("addNodeGroupSuccess",{Name:f}),N()):(console.log(A),k(A.message))}else console.log(S),k(JSON.stringify(S))}catch(S){l(7,b=!1),k(S.toString())}}function L(){f=this.value,l(1,f)}const C=()=>P();return n.$$set=S=>{"isActive"in S&&l(0,r=S.isActive)},[r,f,t,o,a,v,m,b,P,h,g,L,C]}class fs extends je{constructor(e){super();Je(this,e,cs,is,He,{isActive:0})}}function pt(n){let e,l;return{c(){e=d("p"),l=M(n[3]),this.h()},l(s){e=p(s,"P",{class:!0});var r=_(e);l=j(r,n[3]),r.forEach(u),this.h()},h(){c(e,"class","help")},m(s,r){B(s,e,r),i(e,l)},p(s,r){r[0]&8&&ze(l,s[3])},d(s){s&&u(e)}}}function ht(n){let e,l;return{c(){e=d("p"),l=M(n[6]),this.h()},l(s){e=p(s,"P",{class:!0});var r=_(e);l=j(r,n[6]),r.forEach(u),this.h()},h(){c(e,"class","help")},m(s,r){B(s,e,r),i(e,l)},p(s,r){r[0]&64&&ze(l,s[6])},d(s){s&&u(e)}}}function _t(n){let e,l;return{c(){e=d("p"),l=M(n[9]),this.h()},l(s){e=p(s,"P",{class:!0});var r=_(e);l=j(r,n[9]),r.forEach(u),this.h()},h(){c(e,"class","help")},m(s,r){B(s,e,r),i(e,l)},p(s,r){r[0]&512&&ze(l,s[9])},d(s){s&&u(e)}}}function vt(n){let e,l;return{c(){e=d("p"),l=M(n[12]),this.h()},l(s){e=p(s,"P",{class:!0});var r=_(e);l=j(r,n[12]),r.forEach(u),this.h()},h(){c(e,"class","help")},m(s,r){B(s,e,r),i(e,l)},p(s,r){r[0]&4096&&ze(l,s[12])},d(s){s&&u(e)}}}function mt(n){let e,l,s,r;return s=new Dl({props:{helperText:""}}),{c(){e=d("div"),l=d("div"),ke(s.$$.fragment),this.h()},l(f){e=p(f,"DIV",{class:!0});var t=_(e);l=p(t,"DIV",{class:!0});var o=_(l);Pe(s.$$.fragment,o),o.forEach(u),t.forEach(u),this.h()},h(){c(l,"class","control"),c(e,"class","field")},m(f,t){B(f,e,t),i(e,l),Ie(s,l,null),r=!0},i(f){r||(V(s.$$.fragment,f),r=!0)},o(f){J(s.$$.fragment,f),r=!1},d(f){f&&u(e),we(s)}}}function gt(n){let e,l,s,r,f,t;return{c(){e=d("div"),l=d("label"),s=M("Error"),r=I(),f=d("div"),t=d("textarea"),this.h()},l(o){e=p(o,"DIV",{class:!0});var a=_(e);l=p(a,"LABEL",{class:!0});var v=_(l);s=j(v,"Error"),v.forEach(u),r=w(a),f=p(a,"DIV",{class:!0});var m=_(f);t=p(m,"TEXTAREA",{class:!0,placeholder:!0,rows:!0}),_(t).forEach(u),m.forEach(u),a.forEach(u),this.h()},h(){c(l,"class","label"),c(t,"class","textarea errmsg svelte-1s6x7wp"),c(t,"placeholder",""),c(t,"rows",n[15]),t.value=n[14],t.readOnly=!0,c(f,"class","control"),c(e,"class","field")},m(o,a){B(o,e,a),i(e,l),i(l,s),i(e,r),i(e,f),i(f,t)},p(o,a){a[0]&32768&&c(t,"rows",o[15]),a[0]&16384&&(t.value=o[14])},d(o){o&&u(e)}}}function us(n){let e,l,s,r,f,t,o,a,v,m,b,N,E,P,k,h,g,L,C,S,A,D,Y,Q,X,F,W,K,oe,x,T,G,R,O,H,Z,z,$,U,y,le,te,_e,he,ne,se,be,qe,Oe,ge,Se,Ve,Ce,Te,Ee,De,Xe,ve=n[2]&&pt(n),ie=n[5]&&ht(n),fe=n[8]&&_t(n),ce=n[11]&&vt(n),ue=n[16]&&mt(),me=n[13]&&gt(n);return{c(){e=d("div"),l=d("div"),s=d("header"),r=d("p"),f=M("Add Node"),t=I(),o=d("section"),a=d("div"),v=d("label"),m=M("Alias"),b=I(),N=d("div"),E=d("input"),k=I(),ve&&ve.c(),h=I(),g=d("div"),L=d("label"),C=M("Ssh IP"),S=I(),A=d("div"),D=d("input"),Q=I(),ie&&ie.c(),X=I(),F=d("div"),W=d("label"),K=M("Ssh User"),oe=I(),x=d("div"),T=d("input"),R=I(),fe&&fe.c(),O=I(),H=d("div"),Z=d("label"),z=M("Ssh Pass"),$=I(),U=d("div"),y=d("input"),te=I(),ce&&ce.c(),_e=I(),he=d("div"),ne=d("div"),se=d("button"),be=M("Add"),qe=I(),Oe=d("div"),ge=d("button"),Se=M("Cancel"),Ve=I(),ue&&ue.c(),Ce=I(),me&&me.c(),this.h()},l(q){e=p(q,"DIV",{class:!0});var ee=_(e);l=p(ee,"DIV",{class:!0});var $e=_(l);s=p($e,"HEADER",{});var xe=_(s);r=p(xe,"P",{class:!0});var rl=_(r);f=j(rl,"Add Node"),rl.forEach(u),xe.forEach(u),t=w($e),o=p($e,"SECTION",{class:!0});var Ae=_(o);a=p(Ae,"DIV",{class:!0});var ye=_(a);v=p(ye,"LABEL",{class:!0});var Be=_(v);m=j(Be,"Alias"),Be.forEach(u),b=w(ye),N=p(ye,"DIV",{class:!0});var Ye=_(N);E=p(Ye,"INPUT",{class:!0,type:!0,placeholder:!0}),k=w(Ye),ve&&ve.l(Ye),Ye.forEach(u),ye.forEach(u),h=w(Ae),g=p(Ae,"DIV",{class:!0});var el=_(g);L=p(el,"LABEL",{class:!0});var cl=_(L);C=j(cl,"Ssh IP"),cl.forEach(u),S=w(el),A=p(el,"DIV",{class:!0});var Ke=_(A);D=p(Ke,"INPUT",{class:!0,type:!0,placeholder:!0}),Q=w(Ke),ie&&ie.l(Ke),Ke.forEach(u),el.forEach(u),X=w(Ae),F=p(Ae,"DIV",{class:!0});var Ge=_(F);W=p(Ge,"LABEL",{class:!0});var fl=_(W);K=j(fl,"Ssh User"),fl.forEach(u),oe=w(Ge),x=p(Ge,"DIV",{class:!0});var Qe=_(x);T=p(Qe,"INPUT",{class:!0,type:!0,placeholder:!0}),R=w(Qe),fe&&fe.l(Qe),Qe.forEach(u),Ge.forEach(u),O=w(Ae),H=p(Ae,"DIV",{class:!0});var ll=_(H);Z=p(ll,"LABEL",{class:!0});var ul=_(Z);z=j(ul,"Ssh Pass"),ul.forEach(u),$=w(ll),U=p(ll,"DIV",{class:!0});var tl=_(U);y=p(tl,"INPUT",{class:!0,type:!0,placeholder:!0}),te=w(tl),ce&&ce.l(tl),tl.forEach(u),ll.forEach(u),_e=w(Ae),he=p(Ae,"DIV",{class:!0});var We=_(he);ne=p(We,"DIV",{class:!0});var dl=_(ne);se=p(dl,"BUTTON",{class:!0});var pl=_(se);be=j(pl,"Add"),pl.forEach(u),dl.forEach(u),qe=w(We),Oe=p(We,"DIV",{class:!0});var hl=_(Oe);ge=p(hl,"BUTTON",{class:!0});var _l=_(ge);Se=j(_l,"Cancel"),_l.forEach(u),hl.forEach(u),We.forEach(u),Ve=w(Ae),ue&&ue.l(Ae),Ce=w(Ae),me&&me.l(Ae),Ae.forEach(u),$e.forEach(u),ee.forEach(u),this.h()},h(){c(r,"class","modal-card-title"),c(v,"class","label"),c(E,"class",P="input "+(n[2]?"is-danger":"is-info")),c(E,"type","text"),c(E,"placeholder",""),c(N,"class","control"),c(a,"class","field"),c(L,"class","label"),c(D,"class",Y="input "+(n[5]?"is-danger":"is-info")),c(D,"type","text"),c(D,"placeholder",""),c(A,"class","control"),c(g,"class","field"),c(W,"class","label"),c(T,"class",G="input "+(n[8]?"is-danger":"is-info")),c(T,"type","text"),c(T,"placeholder",""),c(x,"class","control"),c(F,"class","field"),c(Z,"class","label"),c(y,"class",le="input "+(n[11]?"is-danger":"is-info")),c(y,"type","password"),c(y,"placeholder",""),c(U,"class","control"),c(H,"class","field"),c(se,"class","button is-info"),c(ne,"class","control"),c(ge,"class","button is-info is-light"),c(Oe,"class","control"),c(he,"class","field is-grouped"),c(o,"class","modal-card-body"),c(l,"class","modal-card box"),c(e,"class",Te="modal "+(n[0]?"is-active":""))},m(q,ee){B(q,e,ee),i(e,l),i(l,s),i(s,r),i(r,f),i(l,t),i(l,o),i(o,a),i(a,v),i(v,m),i(a,b),i(a,N),i(N,E),Le(E,n[1]),i(N,k),ve&&ve.m(N,null),i(o,h),i(o,g),i(g,L),i(L,C),i(g,S),i(g,A),i(A,D),Le(D,n[4]),i(A,Q),ie&&ie.m(A,null),i(o,X),i(o,F),i(F,W),i(W,K),i(F,oe),i(F,x),i(x,T),Le(T,n[7]),i(x,R),fe&&fe.m(x,null),i(o,O),i(o,H),i(H,Z),i(Z,z),i(H,$),i(H,U),i(U,y),Le(y,n[10]),i(U,te),ce&&ce.m(U,null),i(o,_e),i(o,he),i(he,ne),i(ne,se),i(se,be),i(he,qe),i(he,Oe),i(Oe,ge),i(ge,Se),i(o,Ve),ue&&ue.m(o,null),i(o,Ce),me&&me.m(o,null),Ee=!0,De||(Xe=[re(E,"input",n[23]),re(E,"input",n[17]),re(D,"input",n[24]),re(D,"input",n[18]),re(T,"input",n[25]),re(T,"input",n[19]),re(y,"input",n[26]),re(y,"input",n[20]),re(se,"click",n[22]),re(ge,"click",n[21])],De=!0)},p(q,ee){(!Ee||ee[0]&4&&P!==(P="input "+(q[2]?"is-danger":"is-info")))&&c(E,"class",P),ee[0]&2&&E.value!==q[1]&&Le(E,q[1]),q[2]?ve?ve.p(q,ee):(ve=pt(q),ve.c(),ve.m(N,null)):ve&&(ve.d(1),ve=null),(!Ee||ee[0]&32&&Y!==(Y="input "+(q[5]?"is-danger":"is-info")))&&c(D,"class",Y),ee[0]&16&&D.value!==q[4]&&Le(D,q[4]),q[5]?ie?ie.p(q,ee):(ie=ht(q),ie.c(),ie.m(A,null)):ie&&(ie.d(1),ie=null),(!Ee||ee[0]&256&&G!==(G="input "+(q[8]?"is-danger":"is-info")))&&c(T,"class",G),ee[0]&128&&T.value!==q[7]&&Le(T,q[7]),q[8]?fe?fe.p(q,ee):(fe=_t(q),fe.c(),fe.m(x,null)):fe&&(fe.d(1),fe=null),(!Ee||ee[0]&2048&&le!==(le="input "+(q[11]?"is-danger":"is-info")))&&c(y,"class",le),ee[0]&1024&&y.value!==q[10]&&Le(y,q[10]),q[11]?ce?ce.p(q,ee):(ce=vt(q),ce.c(),ce.m(U,null)):ce&&(ce.d(1),ce=null),q[16]?ue?ee[0]&65536&&V(ue,1):(ue=mt(),ue.c(),V(ue,1),ue.m(o,Ce)):ue&&(Re(),J(ue,1,1,()=>{ue=null}),Ue()),q[13]?me?me.p(q,ee):(me=gt(q),me.c(),me.m(o,null)):me&&(me.d(1),me=null),(!Ee||ee[0]&1&&Te!==(Te="modal "+(q[0]?"is-active":"")))&&c(e,"class",Te)},i(q){Ee||(V(ue),Ee=!0)},o(q){J(ue),Ee=!1},d(q){q&&u(e),ve&&ve.d(),ie&&ie.d(),fe&&fe.d(),ce&&ce.d(),ue&&ue.d(),me&&me.d(),De=!1,al(Xe)}}}function ds(n,e,l){let s,r;Me(n,de,z=>l(29,s=z)),Me(n,Fe,z=>l(30,r=z));let{isActive:f}=e,t,o,a,v,m,b,N,E,P,k,h,g,L,C,S,A,D=null,Y=null;function Q(){l(1,t=""),l(2,o=!1),l(4,v=""),l(5,m=!1),l(7,N=""),l(8,E=!1),l(10,k=""),l(11,h=!1),l(13,L=!1),l(16,A=!1),l(0,f=!1)}Q();const X=ml();function F(){let z=new RegExp("^[a-z0-9]+$","i"),$=r.children.find(U=>s.Name==U.Name);t.trim()==""?(l(3,a="required"),l(2,o=!0)):z.test(t)?$.children.find(U=>U.Name==t)?(l(3,a="already exist"),l(2,o=!0)):l(2,o=!1):(l(3,a="invalid - alphanumeric only"),l(2,o=!0))}function W(){let z=new RegExp("^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?).(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?).(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?).(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$");v.trim()==""?(l(6,b="required"),l(5,m=!0)):z.test(v)?l(5,m=!1):(l(6,b="invalid - IP"),l(5,m=!0))}function K(){let z=new RegExp("^[a-z0-9-_.]+$","i");N.trim()==""?(l(9,P="required"),l(8,E=!0)):z.test(N)?l(8,E=!1):(l(9,P="invalid - user name"),l(8,E=!0))}function oe(){k.trim()==""?(l(12,g="required"),l(11,h=!0)):l(11,h=!1)}function x(z){let $=new RegExp(`\r?
`);l(14,C=z),l(15,S=C.split($).length),S==0?l(15,S=1):S>4&&l(15,S=4),l(13,L=!0)}async function T(){Q(),D&&D.abort()}async function G(){if(F(),W(),K(),oe(),D=new AbortController,Y=D.signal,!o&&!m&&!E&&!h)try{l(14,C=""),l(13,L=!1),l(16,A=!0);const z=await fetch("/api/nodes",{signal:Y,method:"POST",body:JSON.stringify({Name:t,SshIP:v,SshUser:N,SshPass:k,Group:s.Name})});if(l(16,A=!1),z.ok){const $=await z.text();let U=!0;try{JSON.parse($)}catch{U=!1}U?json.status==0?(X("addNodeSuccess",{Name:t}),Q()):(console.log(json),x(json.message)):(l(16,A=!1),x($))}else console.log(z),x(JSON.stringify(z))}catch(z){l(16,A=!1),x(z.toString())}}function R(){t=this.value,l(1,t)}function O(){v=this.value,l(4,v)}function H(){N=this.value,l(7,N)}function Z(){k=this.value,l(10,k)}return n.$$set=z=>{"isActive"in z&&l(0,f=z.isActive)},[f,t,o,a,v,m,b,N,E,P,k,h,g,L,C,S,A,F,W,K,oe,T,G,R,O,H,Z]}class ps extends je{constructor(e){super();Je(this,e,ds,us,He,{isActive:0},null,[-1,-1])}}function bt(n,e,l){const s=n.slice();return s[12]=e[l],s[13]=e,s[14]=l,s}function Et(n,e,l){const s=n.slice();return s[15]=e[l],s}function Nt(n){let e,l,s=n[2].children,r=[];for(let t=0;t<s.length;t+=1)r[t]=It(bt(n,s,t));const f=t=>J(r[t],1,1,()=>{r[t]=null});return{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=Ne()},l(t){for(let o=0;o<r.length;o+=1)r[o].l(t);e=Ne()},m(t,o){for(let a=0;a<r.length;a+=1)r[a].m(t,o);B(t,e,o),l=!0},p(t,o){if(o&6){s=t[2].children;let a;for(a=0;a<s.length;a+=1){const v=bt(t,s,a);r[a]?(r[a].p(v,o),V(r[a],1)):(r[a]=It(v),r[a].c(),V(r[a],1),r[a].m(e.parentNode,e))}for(Re(),a=s.length;a<r.length;a+=1)f(a);Ue()}},i(t){if(!l){for(let o=0;o<s.length;o+=1)V(r[o]);l=!0}},o(t){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)J(r[o]);l=!1},d(t){vl(r,t),t&&u(e)}}}function kt(n){let e,l,s=n[12].children,r=[];for(let t=0;t<s.length;t+=1)r[t]=Pt(Et(n,s,t));const f=t=>J(r[t],1,1,()=>{r[t]=null});return{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=Ne()},l(t){for(let o=0;o<r.length;o+=1)r[o].l(t);e=Ne()},m(t,o){for(let a=0;a<r.length;a+=1)r[a].m(t,o);B(t,e,o),l=!0},p(t,o){if(o&4){s=t[12].children;let a;for(a=0;a<s.length;a+=1){const v=Et(t,s,a);r[a]?(r[a].p(v,o),V(r[a],1)):(r[a]=Pt(v),r[a].c(),V(r[a],1),r[a].m(e.parentNode,e))}for(Re(),a=s.length;a<r.length;a+=1)f(a);Ue()}},i(t){if(!l){for(let o=0;o<s.length;o+=1)V(r[o]);l=!0}},o(t){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)J(r[o]);l=!1},d(t){vl(r,t),t&&u(e)}}}function Pt(n){let e,l;return e=new il({props:{node:n[15],pnode:n[12],level:3,type:"Node"}}),{c(){ke(e.$$.fragment)},l(s){Pe(e.$$.fragment,s)},m(s,r){Ie(e,s,r),l=!0},p(s,r){const f={};r&4&&(f.node=s[15]),r&4&&(f.pnode=s[12]),e.$set(f)},i(s){l||(V(e.$$.fragment,s),l=!0)},o(s){J(e.$$.fragment,s),l=!1},d(s){we(e,s)}}}function It(n){let e,l,s,r;function f(){return n[7](n[12],n[13],n[14])}e=new il({props:{node:n[12],pnode:n[2],level:2,type:"NodeGroup"}}),e.$on("expandToggle",f),e.$on("addNode",n[8]);let t=n[12].expanded&&n[12].children&&kt(n);return{c(){ke(e.$$.fragment),l=I(),t&&t.c(),s=Ne()},l(o){Pe(e.$$.fragment,o),l=w(o),t&&t.l(o),s=Ne()},m(o,a){Ie(e,o,a),B(o,l,a),t&&t.m(o,a),B(o,s,a),r=!0},p(o,a){n=o;const v={};a&4&&(v.node=n[12]),a&4&&(v.pnode=n[2]),e.$set(v),n[12].expanded&&n[12].children?t?(t.p(n,a),a&4&&V(t,1)):(t=kt(n),t.c(),V(t,1),t.m(s.parentNode,s)):t&&(Re(),J(t,1,1,()=>{t=null}),Ue())},i(o){r||(V(e.$$.fragment,o),V(t),r=!0)},o(o){J(e.$$.fragment,o),J(t),r=!1},d(o){we(e,o),o&&u(l),t&&t.d(o),o&&u(s)}}}function hs(n){let e,l,s,r,f,t,o,a,v,m;l=new il({props:{node:n[2],pnode:n[2],level:1,type:"NodeTreeRoot"}}),l.$on("expandToggle",n[5]),l.$on("addNodeGroup",n[6]);let b=n[2].expanded&&n[2].children&&Nt(n);function N(h){n[9](h)}let E={};n[0]!==void 0&&(E.isActive=n[0]),f=new fs({props:E}),Il.push(()=>wl(f,"isActive",N)),f.$on("addNodeGroupSuccess",n[3]);function P(h){n[10](h)}let k={};return n[1]!==void 0&&(k.isActive=n[1]),a=new ps({props:k}),Il.push(()=>wl(a,"isActive",P)),a.$on("addNodeSuccess",n[4]),{c(){e=d("ul"),ke(l.$$.fragment),s=I(),b&&b.c(),r=I(),ke(f.$$.fragment),o=I(),ke(a.$$.fragment),this.h()},l(h){e=p(h,"UL",{class:!0});var g=_(e);Pe(l.$$.fragment,g),s=w(g),b&&b.l(g),g.forEach(u),r=w(h),Pe(f.$$.fragment,h),o=w(h),Pe(a.$$.fragment,h),this.h()},h(){c(e,"class","svelte-2on8hh")},m(h,g){B(h,e,g),Ie(l,e,null),i(e,s),b&&b.m(e,null),B(h,r,g),Ie(f,h,g),B(h,o,g),Ie(a,h,g),m=!0},p(h,[g]){const L={};g&4&&(L.node=h[2]),g&4&&(L.pnode=h[2]),l.$set(L),h[2].expanded&&h[2].children?b?(b.p(h,g),g&4&&V(b,1)):(b=Nt(h),b.c(),V(b,1),b.m(e,null)):b&&(Re(),J(b,1,1,()=>{b=null}),Ue());const C={};!t&&g&1&&(t=!0,C.isActive=h[0],Al(()=>t=!1)),f.$set(C);const S={};!v&&g&2&&(v=!0,S.isActive=h[1],Al(()=>v=!1)),a.$set(S)},i(h){m||(V(l.$$.fragment,h),V(b),V(f.$$.fragment,h),V(a.$$.fragment,h),m=!0)},o(h){J(l.$$.fragment,h),J(b),J(f.$$.fragment,h),J(a.$$.fragment,h),m=!1},d(h){h&&u(e),we(l),b&&b.d(),h&&u(r),we(f,h),h&&u(o),we(a,h)}}}function _s(n,e,l){let s,r;Me(n,Fe,k=>l(2,s=k)),Me(n,de,k=>l(11,r=k));function f(k){let h=[{Name:"Add Node ...",Event:"addNode",EventCtx:{}}];s.children.push({Name:k.detail.Name,children:[],expanded:!1,MenuItems:h}),ae(de,r.Name=k.detail.Name,r),ae(de,r.ParentName="Traffic Nodes",r),ae(de,r.Type="NodeGroup",r),ae(Fe,s.expanded=!0,s),Fe.set(s)}function t(k){let h=s.children.find(L=>L.Name==r.Name),g="/node/"+h.Name+"/"+k.detail.Name;h.children.push({Name:k.detail.Name,UrlPath:g,UrlPathView:g}),ae(de,r.Name=k.detail.Name,r),ae(de,r.ParentName=h.Name,r),ae(de,r.Type="Node",r),h.expanded=!0,Fe.set(s)}let o=!1,a=!1;const v=()=>ae(Fe,s.expanded=!s.expanded,s),m=()=>l(0,o=!0),b=(k,h,g)=>ae(Fe,h[g].expanded=!k.expanded,s),N=()=>l(1,a=!0);function E(k){o=k,l(0,o)}function P(k){a=k,l(1,a)}return[o,a,s,f,t,v,m,b,N,E,P]}class vs extends je{constructor(e){super();Je(this,e,_s,hs,He,{})}}function ms(n){return{c:pe,l:pe,m:pe,p:pe,i:pe,o:pe,d:pe}}function gs(n){let e,l,s,r,f,t,o,a,v,m,b,N,E,P,k,h,g,L,C,S,A,D,Y,Q,X,F,W,K,oe,x,T,G,R,O,H,Z,z;oe=new vs({}),T=new as({});const $=n[3].default,U=Rt($,n,n[2],null);return{c(){e=d("nav"),l=d("div"),s=d("a"),r=d("p"),f=M("MyTLS"),t=I(),o=d("a"),a=d("span"),v=I(),m=d("span"),b=I(),N=d("span"),E=I(),P=d("div"),k=d("div"),h=I(),g=d("div"),L=d("div"),C=d("div"),S=d("button"),A=M("Sign in"),D=I(),Y=d("button"),Q=M("Sign up"),X=I(),F=d("div"),W=d("div"),K=d("div"),ke(oe.$$.fragment),x=I(),ke(T.$$.fragment),G=I(),R=d("div"),O=d("div"),U&&U.c(),this.h()},l(y){e=p(y,"NAV",{class:!0,role:!0,"aria-label":!0});var le=_(e);l=p(le,"DIV",{class:!0});var te=_(l);s=p(te,"A",{class:!0,href:!0});var _e=_(s);r=p(_e,"P",{class:!0});var he=_(r);f=j(he,"MyTLS"),he.forEach(u),_e.forEach(u),t=w(te),o=p(te,"A",{role:!0,class:!0,"aria-label":!0,"aria-expanded":!0,"data-target":!0});var ne=_(o);a=p(ne,"SPAN",{"aria-hidden":!0}),_(a).forEach(u),v=w(ne),m=p(ne,"SPAN",{"aria-hidden":!0}),_(m).forEach(u),b=w(ne),N=p(ne,"SPAN",{"aria-hidden":!0}),_(N).forEach(u),ne.forEach(u),te.forEach(u),E=w(le),P=p(le,"DIV",{id:!0,class:!0});var se=_(P);k=p(se,"DIV",{class:!0});var be=_(k);be.forEach(u),h=w(se),g=p(se,"DIV",{class:!0});var qe=_(g);L=p(qe,"DIV",{class:!0});var Oe=_(L);C=p(Oe,"DIV",{class:!0});var ge=_(C);S=p(ge,"BUTTON",{class:!0});var Se=_(S);A=j(Se,"Sign in"),Se.forEach(u),D=w(ge),Y=p(ge,"BUTTON",{class:!0});var Ve=_(Y);Q=j(Ve,"Sign up"),Ve.forEach(u),ge.forEach(u),Oe.forEach(u),qe.forEach(u),se.forEach(u),le.forEach(u),X=w(y),F=p(y,"DIV",{class:!0});var Ce=_(F);W=p(Ce,"DIV",{class:!0});var Te=_(W);K=p(Te,"DIV",{class:!0});var Ee=_(K);Pe(oe.$$.fragment,Ee),x=w(Ee),Pe(T.$$.fragment,Ee),Ee.forEach(u),Te.forEach(u),G=w(Ce),R=p(Ce,"DIV",{class:!0});var De=_(R);O=p(De,"DIV",{class:!0});var Xe=_(O);U&&U.l(Xe),Xe.forEach(u),De.forEach(u),Ce.forEach(u),this.h()},h(){c(r,"class","is-size-6"),c(s,"class","navbar-item"),c(s,"href","/"),c(a,"aria-hidden","true"),c(m,"aria-hidden","true"),c(N,"aria-hidden","true"),c(o,"role","button"),c(o,"class","navbar-burger"),c(o,"aria-label","menu"),c(o,"aria-expanded","false"),c(o,"data-target","navbarTopMenu"),c(l,"class","navbar-brand"),c(k,"class","navbar-start"),c(S,"class","button is-info is-small"),c(Y,"class","button is-info is-small is-outlined"),c(C,"class","buttons"),c(L,"class","navbar-item"),c(g,"class","navbar-end"),c(P,"id","navbarTopMenu"),c(P,"class","navbar-menu"),Pl(P,"is-active",n[0]),c(e,"class","navbar topbar is-dark has-shadow svelte-1to6t4u"),c(e,"role","navigation"),c(e,"aria-label","main navigation"),c(K,"class","leftbar svelte-1to6t4u"),c(W,"class","column is-one-fifth"),c(O,"class","container rightbar svelte-1to6t4u"),c(R,"class","column"),c(F,"class","columns is-gapless")},m(y,le){B(y,e,le),i(e,l),i(l,s),i(s,r),i(r,f),i(l,t),i(l,o),i(o,a),i(o,v),i(o,m),i(o,b),i(o,N),i(e,E),i(e,P),i(P,k),i(P,h),i(P,g),i(g,L),i(L,C),i(C,S),i(S,A),i(C,D),i(C,Y),i(Y,Q),B(y,X,le),B(y,F,le),i(F,W),i(W,K),Ie(oe,K,null),i(K,x),Ie(T,K,null),i(F,G),i(F,R),i(R,O),U&&U.m(O,null),H=!0,Z||(z=re(o,"click",n[5]),Z=!0)},p(y,le){le&1&&Pl(P,"is-active",y[0]),U&&U.p&&(!H||le&4)&&Ut(U,$,y,y[2],H?Mt($,y[2],le,null):Bt(y[2]),null)},i(y){H||(V(oe.$$.fragment,y),V(T.$$.fragment,y),V(U,y),H=!0)},o(y){J(oe.$$.fragment,y),J(T.$$.fragment,y),J(U,y),H=!1},d(y){y&&u(e),y&&u(X),y&&u(F),we(oe),we(T),U&&U.d(y),Z=!1,z()}}}function bs(n){let e,l;return{c(){e=d("p"),l=M("Loading ...")},l(s){e=p(s,"P",{});var r=_(e);l=j(r,"Loading ..."),r.forEach(u)},m(s,r){B(s,e,r),i(e,l)},p:pe,i:pe,o:pe,d(s){s&&u(e)}}}function Es(n){let e,l,s,r,f={ctx:n,current:null,token:null,hasCatch:!1,pending:bs,then:gs,catch:ms,blocks:[,,,]};return Ot(n[1],f),{c(){e=Ne(),f.block.c()},l(t){e=Ne(),f.block.l(t)},m(t,o){B(t,e,o),f.block.m(t,f.anchor=o),f.mount=()=>e.parentNode,f.anchor=e,l=!0,s||(r=re(window,"resize",n[4]),s=!0)},p(t,[o]){n=t,Ct(f,n,o)},i(t){l||(V(f.block),l=!0)},o(t){for(let o=0;o<3;o+=1){const a=f.blocks[o];J(a)}l=!1},d(t){t&&u(e),f.block.d(t),f.token=null,f=null,s=!1,r()}}}function Ns(n,e,l){let s,r;Me(n,Ze,h=>l(6,s=h)),Me(n,Fe,h=>l(7,r=h));let{$$slots:f={},$$scope:t}=e,o=!1,a=[{Name:"Add Folder ...",Event:"addNodeGroup",EventCtx:{}}],v=[{Name:"Add Node ...",Event:"addNode",EventCtx:{}}],m=[{Name:"Add Folder ...",Event:"addProfileGroup",EventCtx:{}}],b=[{Name:"Add Profile ...",Event:"addProfile",EventCtx:{}}];async function N(){const h=await fetch("/api/node_groups.json"),g=await fetch("/api/nodes.json"),L=await fetch("/api/profile_groups.json"),C=await fetch("/api/profiles.json");if(h.ok&&g.ok){const S=await h.json(),A=await g.json();ae(Fe,r.MenuItems=a,r);for(const D of S){const Q=A.filter(X=>X.Group==D.Name).map(X=>Sl(Tl({},X),{UrlPath:"/node/"+D.Name+"/"+X.Name,UrlPathView:"/node/"+D.Name+"/"+X.Name}));D.expanded=!1,D.children=Q,D.MenuItems=v,r.children.push(D)}}if(L.ok&&C.ok){const S=await L.json(),A=await C.json();ae(Ze,s.MenuItems=m,s);for(const D of S){const Q=A.filter(X=>X.Group==D.Name).map(X=>Sl(Tl({},X),{UrlPath:"/profile/"+D.Name+"/"+X.Name,UrlPathView:"/profile/"+D.Name+"/"+X.Name}));D.expanded=!1,D.children=Q,D.MenuItems=b,s.children.push(D)}}return 0}let E=N();const P=()=>l(0,o=!1),k=()=>l(0,o=!o);return n.$$set=h=>{"$$scope"in h&&l(2,t=h.$$scope)},[o,E,t,f,P,k]}class Is extends je{constructor(e){super();Je(this,e,Ns,Es,He,{})}}export{Is as default};
