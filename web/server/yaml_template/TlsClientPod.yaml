apiVersion: v1
kind: Pod
metadata:
  name: tlsclient--{ProfileGroup}--{ProfileName}--{ClientServerGroupName}
  annotations:
    k8s.v1.cni.cncf.io/networks: '[
            {{ "name": "{ClientInterfaceName}",
               "ips": [{ClientIPs}]
            }}]'
spec:
  containers:
  - name: tlsclient--{ProfileGroup}--{ProfileName}--{ClientServerGroupName}
    image: tlspack/tlsperf:latest
    imagePullPolicy: Always
    command: [tlsclient.exe]
    args: []
    env:
    - name: MY_POD_IP
      valueFrom:
        fieldRef:
          fieldPath: status.podIP
    volumeMounts:
    - name: config-volume
      mountPath: /configs/
  volumes:
  - name: config-volume
    configMap:
      name: tlsclient--{ProfileGroup}--{ProfileName}--{ClientServerGroupName} 

  nodeSelector:
    tgid: {ClientNodeLabel}