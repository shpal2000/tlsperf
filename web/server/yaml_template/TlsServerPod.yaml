apiVersion: v1
kind: Pod
metadata:
  name: tlsserver--{ProfileGroup}--{ProfileName}--{ClientServerGroupName}
  annotations:
    k8s.v1.cni.cncf.io/networks: '[
            { "name": "{ServerInterfaceName}",
              "ips": [{ServerIPs}]
            }]'
spec:
  containers:
  - name: tlsserver--{ProfileGroup}--{ProfileName}--{ClientServerGroupName}
    image: tlspack/tlsperf:latest
    imagePullPolicy: Always
    command: ["tlsserver.exe"]
    args: []
    env:
    - name: MY_POD_IP
      valueFrom:
        fieldRef:
          fieldPath: status.podIP
    volumeMounts:
    - name: config-volume
      mountPath: /configs/
  volumes:
  - name: config-volume
    configMap:
      name: tlsserver--{ProfileGroup}--{ProfileName}--{ClientServerGroupName} 
  nodeSelector:
    tgid: {ServerNodeLabel}